import PlatformTabs from '../../components/PlatformTabs'
import PlatformTabItem from '../../components/PlatformTabItem'

import MobileWalletsPartial from '../../web3modal/v2/_partials/options/mobileWallets.mdx'
import DesktopWalletsPartial from '../../web3modal/v2/_partials/options/desktopWallets.mdx'
import WalletImagesPartial from '../../web3modal/v2/_partials/options/walletImages.mdx'
import ExplorerRecommendedWalletIdsPartial from '../../web3modal/v2/_partials/options/explorerRecommendedWalletIds.mdx'
import ExplorerExcludedWalletIdsPartial from '../../web3modal/v2/_partials/options/explorerExcludedWalletIds.mdx'
import TermsOfServiceUrlPartial from '../../web3modal/v2/_partials/options/termsOfServiceUrl.mdx'
import PrivacyPolicyUrlPartial from '../../web3modal/v2/_partials/options/privacyPolicyUrl.mdx'
import EnableExplorerPartial from '../../web3modal/v2/_partials/options/enableExplorer.mdx'
import ThemeModePartial from '../../web3modal/v2/_partials/options/themeMode.mdx'
import ThemeVariablesPartial from '../../web3modal/v2/_partials/options/themeVariables.mdx'
import ProjectIdPartial from '../../web3modal/v2/_partials/options/projectId.mdx'
import EnableAuthModePartial from '../../web3modal/v2/_partials/options/enableAuthMode.mdx'
import ChainsPartial from '../../web3modal/v2/_partials/options/chains.mdx'

# Options

<PlatformTabs
	groupId="wcm"
	activeOptions={["web", "react-native", "android", "flutter", "unity"]}
>
<PlatformTabItem value="web">

Following options can be passed to `WalletConnectModal` i.e.

```tsx
new WalletConnectModal({
  projectId: 'YOUR_PROJECT_ID'
})
```

#### projectId (required)

<ProjectIdPartial />

#### chains (required)

<ChainsPartial />

#### mobileWallets (optional)

<MobileWalletsPartial />

#### desktopWallets (optional)

<DesktopWalletsPartial />

#### walletImages (optional)

<WalletImagesPartial />

#### explorerRecommendedWalletIds (optional)

<ExplorerRecommendedWalletIdsPartial />

#### explorerExcludedWalletIds (optional)

<ExplorerExcludedWalletIdsPartial />

#### termsOfServiceUrl (optional)

<TermsOfServiceUrlPartial />

#### privacyPolicyUrl (optional)

<PrivacyPolicyUrlPartial />

#### enableExplorer (optional)

<EnableExplorerPartial />

#### themeMode (optional)

<ThemeModePartial />

#### themeVariables (optional)

<ThemeVariablesPartial />

#### enableAuthMode (optional)

<EnableAuthModePartial />

</PlatformTabItem>
<PlatformTabItem value="react-native">

#### projectId (required)

Your projectâ€™s unique identifier that can be obtained at [cloud.walletconnect.com](https://cloud.walletconnect.com). Enables following functionalities within WalletConnectModal: wallet and chain logos, optional WalletConnect RPC, support for all v2 wallets from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet&version=2). Defaults to `undefined`.

```ts
projectId: string
```

#### providerMetadata (required)

Object that contains metadata of your app

```ts
providerMetadata: {
  name: string;
  description: string;
  url: string;
  icons: string[];
  redirect: {
    native: string;
    universal?: string;
  }
};
```

#### sessionParams (optional)

Defaults to:

```ts
sessionParams = {
  namespaces: {
    eip155: {
      methods: ['eth_sendTransaction', 'personal_sign'],
      chains: ['eip155:1'],
      events: ['chainChanged', 'accountsChanged'],
      rpcMap: {}
    }
  }
}
```

#### relayUrl (optional)

Define a custom Relay Server URL. Defaults to `"wss://relay.walletconnect.com"`

#### onCopyClipboard (optional)

This function is intended to be called when the user wants to copy something to the clipboard, and allows you to add the necessary actions to copy the value to the Clipboard.

Now used in:

- Copy button in QR Code view

```ts
onCopyClipboard: (value: string) => void;

//example
const onCopyClipboard = (value: string) => {
  Clipboard.setString(value);
};
```

#### explorerRecommendedWalletIds (optional)

Allows to override default recommended wallets that are fetched from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). You can define an array of wallet ids you'd like to prioritize (order is respected). You can get these ids from the explorer link mentioned before by clicking on a copy icon of desired wallet card. If you want to completely disable recommended wallets, you can set this option to `NONE`. Defaults to `undefined`.

```ts
explorerRecommendedWalletIds: string[] | 'NONE'

//example
explorerRecommendedWalletIds={[
  '1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369',
  '4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0'
]}
```

#### explorerExcludedWalletIds (optional)

Allows to exclude wallets that are fetched from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). You can define an array of wallet ids you'd like to exclude. You can get these ids from the explorer link mentioned before by clicking on a copy icon of desired wallet card. If you want to exclude all wallets, you can set this option to `ALL`, however if `explorerRecommendedWalletIds` were defined, they will still be fetched. Defaults to `undefined`.

```ts
explorerExcludedWalletIds: string[] | 'ALL'

//example
explorerExcludedWalletIds={[
  '1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369',
  '4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0'
]}
```

#### accentColor (optional)

Allows to override WalletConnectModal's accent accentColor

```ts
accentColor: 'string' | undefined

//example
accentColor = '#9090FF'
```

</PlatformTabItem>

<PlatformTabItem value="android">

#### Explorer recommended wallets

Allows to set default recommended wallets that are fetched from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). You can define a list of wallets ids you'd like to prioritise (order is respected). You can get these ids from the explorer link mentioned before by clicking on a copy icon of your desired wallet card.

```kotlin
val recommendedWalletsIds = listOf<String>(
    "1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369",
    "4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0"
)

val initParams = Modal.Params.Init(core = CoreClient, recommendedWalletsIds = recommendedWalletsIds)

WalletConnectModal.initialize(
    init = initParams,
    onSuccess = {
        // Callback will be called if initialization is successful
    },
    onError = { error ->
        // Error will be thrown if there's an issue during initialization
    }
)
```

#### Explorer excluded wallets

Allows to exclude wallets that are fetched from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). You can define an array of wallet ids you'd like to exclude. You can get these ids from the explorer link mentioned before by clicking on a copy icon of your desired wallet card.

```kotlin
val excludedWalletIds = listOf<String>(
    "1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369",
    "4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0"
)

val initParams = Modal.Params.Init(core = CoreClient, excludedWalletIds = excludedWalletIds)

WalletConnectModal.initialize(
    init = initParams,
    onSuccess = {
        // Callback will be called if initialization is successful
    },
    onError = { error ->
        // Error will be thrown if there's an issue during initialization
    }
)
```

#### Show installed wallets

Allows you to show the `INSTALLED` label under the wallet icon in the list. To use this feature, you need to add selected wallets that you want to handle to `AndroidManifest.xml` as a query. Specs: [Android Specs](https://developer.android.com/guide/topics/manifest/queries-element)

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android">

    <queries>
        <package android:name="..."/>
    </queries>

    <application>
        ...
    </application>
</manifest>
```

</PlatformTabItem>

<PlatformTabItem value="flutter">

#### Web3App or projectId & PairingMetadata (required)

You must provide either a Web3App or a projectId and PairingMetadata.
Providing the Web3App lets you register callbacks on the Web3App you'd like to use.
Otherwise, we recommend just providing the projectId and PairingMetadata to the WalletConnectModalService directly.

```dart
final Web3App web3App = await Web3App.createInstance(
  projectId: 'YOUR_PROJECT_ID',
  metadata: const PairingMetadata(
    name: 'Flutter Dapp Example',
    description: 'Flutter Dapp Example',
    url: 'https://www.walletconnect.com/',
    icons: ['https://walletconnect.com/walletconnect-logo.png'],
    redirect: Redirect(
      native: 'flutterdapp://',
      universal: 'https://www.walletconnect.com',
    ),
  ),
);

// Register callbacks on the Web3App you'd like to use

WalletConnectModalService service = WalletConnectModalService(
  web3App: web3App,
);
```

or

```dart
WalletConnectModalService service = WalletConnectModalService(
  projectId: projectId,
  metadata: const PairingMetadata(
    name: 'Flutter Dapp Example',
    description: 'Flutter Dapp Example',
    url: 'https://www.walletconnect.com/',
    icons: ['https://walletconnect.com/walletconnect-logo.png'],
    redirect: Redirect(
      native: 'flutterdapp://',
      universal: 'https://www.walletconnect.com',
    ),
  ),
);
```

#### requiredNamespaces (optional)

Defaults to null.

This is the initial set of namespaces that will be requested from the wallet.

You can change it at any time with the `setRequiredNamespaces` method.

#### optionalNamespaces (optional)

Defaults to null.

This is the initial set of optional namespaces that will be requested from the wallet.

You can change it at any time with the `setOptionalNamespaces` method.

#### recommendedWalletIds (optional)

Allows to override default recommended wallets that are fetched from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). You can define an array of wallet ids you'd like to prioritize (order is respected). You can get these ids from the explorer link mentioned before by clicking on a copy icon of desired wallet card. Defaults to `null`.

```dart
final Set<String> recommendedWalletIds = {
  'c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96', // MetaMask
  '4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0', // Trust
}
```

#### excludedWalletState & excludedWalletids (optional)

The `excludedWalletState` Determines the state of the excluded wallets. Defaults to `ExcludedWalletState.list`.

If the `excludedWalletState` is `ExcludedWalletState.list`, the `excludedWalletIds` will be used to remove items from the list of wallets returned from the [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). If the `excludedWalletState` is `ExcludedWalletState.all`, all wallets will be excluded except for the ones defined in `recommendedWalletIds`.

</PlatformTabItem>

<PlatformTabItem value="unity">

#### ConnectOptions

Session connection options

```csharp
ConnectOptions = new ConnectOptions
{
    RequiredNamespaces = new RequiredNamespaces
    {
        {
            "eip155", new ProposedNamespace
            {
                Methods = new[]
                {
                    "eth_sendTransaction",
                    "personal_sign",
                    "eth_signTypedData"
                },
                Chains = new[]
                {
                    "eip155:1"
                },
                Events = new[]
                {
                    "chainChanged",
                    "accountsChanged"
                },
            }
        }
    }
}
```

#### IncludedWalletIds

Allows to override default recommended wallets that are fetched from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). You can define an array of wallet ids you'd like to prioritize (order is respected). You can get these ids from the explorer link mentioned before by clicking on a copy icon of desired wallet card. Defaults to `null`.

```csharp
IncludedWalletIds = new[]
{
    "c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96", // MetaMask
    "4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0", // Trust
}
```

#### ExcludedWalletIds

Allows to exclude wallets that are fetched from [WalletConnect Explorer](https://walletconnect.com/explorer?type=wallet). You can define an array of wallet ids you'd like to exclude. You can get these ids from the explorer link mentioned before by clicking on a copy icon of desired wallet card. Defaults to `null`.

```csharp
ExcludedWalletIds = new[]
{
    "c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96", // MetaMask
    "4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0", // Trust
}
```

</PlatformTabItem>

</PlatformTabs>
